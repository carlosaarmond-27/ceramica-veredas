<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cer√¢mica Veredas | Gest√£o</title>

<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2f6d3c">
</head>

<body>

<!-- TELA INICIAL -->
<div class="start" id="start">
 <img src="assets/logo.png" class="logo-start" alt="Cer√¢mica Veredas">
 <h1>Cer√¢mica Veredas</h1>
 <p>Gest√£o inteligente para produ√ß√£o cer√¢mica</p>
 <button onclick="entrar()">Iniciar</button>
</div>

<div id="sistema" class="hidden">

<div class="topo">Cer√¢mica Veredas</div>

<div class="container">

<div class="menu">
 <button data-tela="painel">Relat√≥rio</button>
 <button data-tela="diaria">Produ√ß√£o Di√°ria</button>
 <button data-tela="semanal">Produ√ß√£o Semanal</button>
 <button data-tela="estoque">Estoque</button>
 <button data-tela="graficos">Gr√°ficos</button>
</div>

<div class="content">

<!-- PAINEL -->
<div id="painel">
<div class="box">
 <h2>Relat√≥rio Geral</h2>
 <p>Total Di√°rio: <b id="totalDiario">0</b></p>
 <p>Total Semanal: <b id="totalSemanal">0</b></p>
 <p>Total de Fornos: <b id="totalFornos">0</b></p>
 <p>Efici√™ncia por Forno: <b id="eficienciaForno">0</b></p>
 <button class="action" onclick="exportarExcel()">Exportar Excel</button>
</div>
</div>

<!-- DI√ÅRIA -->
<div id="diaria" class="hidden">
<div class="box">
<h2>Produ√ß√£o Di√°ria</h2>
<label>Data <input type="date" id="dataDiaria"></label>
<label>Horas Paradas <input type="number" id="horasParadas" value="0"></label>

<table>
<thead><tr><th>Tipo</th><th>Produzido</th><th>Descartes</th><th>L√≠quido</th></tr></thead>
<tbody id="tabelaDiaria"></tbody>
</table>

<div class="total">Total l√≠quido: <span id="totalLiquido">0</span></div>
<button class="action" onclick="salvarDiaria()">Salvar</button>
</div>
</div>

<!-- SEMANAL -->
<div id="semanal" class="hidden">
<div class="box">
<h2>Produ√ß√£o Semanal</h2>
<label>Data <input type="date" id="dataSemanal"></label>
<label>Fornos <input type="number" id="qtdFornos" value="0"></label>

<table>
<thead><tr><th>Tipo</th><th>Qtd</th><th>Fator</th><th>Equiv.</th></tr></thead>
<tbody id="tabelaSemanal"></tbody>
</table>

<div class="total">Total equivalente: <span id="totalEq">0</span></div>
<button class="action" onclick="salvarSemanal()">Salvar</button>
</div>
</div>

<!-- ESTOQUE -->
<div id="estoque" class="hidden">
<div class="box">
<h2>Estoque</h2>

<h3>Registrar Sa√≠da</h3>
<input type="text" id="tipoSaida" placeholder="Tipo do Tijolo">
<input type="number" id="quantidadeSaida" placeholder="Quantidade">
<button onclick="registrarSaida()">Registrar Sa√≠da</button>

<table>
<thead><tr><th>Tipo</th><th>Qtd</th></tr></thead>
<tbody id="tabelaEstoque"></tbody>
</table>

</div>
</div>

<!-- GR√ÅFICOS -->
<div id="graficos" class="hidden">
<div style="margin-bottom:15px">
 <button onclick="filtrarGrafico('dia')">üìÖ Di√°rio</button>
 <button onclick="filtrarGrafico('mes')">üóìÔ∏è Mensal</button>
 <button onclick="filtrarGrafico('ano')">üìÜ Anual</button>
</div>
<canvas id="grafico"></canvas>
</div>

</div>
</div>
</div>

<div class="toast" id="toast">Salvo com sucesso</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.js"></script>
<script src="script.js"></script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>
</body>
</html>
